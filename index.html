<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptographyCode</title>
</head>
<body>
    <header class="mheader">
        <h1 class="header__title">Cryptocoder</h1>
    </header>
    <div class="encryption-file">
        <form>
          <input type="file" id="fileInput">
          <br><br>
          <button type="button" onclick="encryptFile()">Encrypt</button>
          <button type="button" onclick="decryptFile()">Decrypt</button>
        </form>
        <script>
          //Function to handle file selection
          function handleFileSelect(event) {
            const file=event.targetfiles[0];
          }
        </script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
       <script>
           //Function for encrypting txt file
           function encryptFile() {
               const file = document.getElementById('fileInput').files[0];
               const reader = new FileReader();
               reader.onload = function (event) {
                   const fileContent = event.target.result;
                   const encrypted = CryptoJS.AES.encrypt(fileContent, 'secretKey');
                   const encryptedBlob = new Blob([encrypted.toString()], { type: 'text/plain' });
                   saveAs(encryptedBlob, 'encrypted_file.txt');
               };
               reader.readAsText(file);
           }
           //Function for decrypting txt file
           function decryptFile() {
               const file = document.getElementById('fileInput').files[0];
               const reader = new FileReader();
               reader.onload = function (event) {
                   const fileContent = event.target.result;
                   const decrypted = CryptoJS.AES.decrypt(fileContent, 'secretKey');
                   const decryptedBlob = new Blob([decrypted.toString(CryptoJS.enc.Utf8)], { type: 'text/plain' });
                   saveAs(decryptedBlob, 'decrypted_file.txt');
               };
               reader.readAsText(file);
           }
           // Event listener for file selection
           document.getElementById('fileInput').addEventListener('change', handleFileSelect, false);
       </script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.2/FileSaver.min.js"></script>
      </div>
</body>
</html>